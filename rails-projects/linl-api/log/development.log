

Started PUT "/api/v1/users/2" for 127.0.0.1 at 2014-09-28 21:26:00 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@example.com') AND "users"."id" != 2) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m


Started OPTIONS "/api/v1/users/2" for 127.0.0.1 at 2014-09-28 21:30:54 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m


Started PUT "/api/v1/users/2" for 127.0.0.1 at 2014-09-28 21:30:54 -0400
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@example.com') AND "users"."id" != 2) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m


Started PUT "/api/v1/users/2" for 127.0.0.1 at 2014-09-28 21:31:58 -0400
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@example.com') AND "users"."id" != 2) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m


Started PUT "/api/v1/users/2" for 127.0.0.1 at 2014-09-28 21:32:00 -0400
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@example.com') AND "users"."id" != 2) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m


Started PUT "/api/v1/users/2" for 127.0.0.1 at 2014-09-28 21:32:00 -0400
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@example.com') AND "users"."id" != 2) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m


Started PUT "/api/v1/users/2" for 127.0.0.1 at 2014-09-28 21:32:01 -0400
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@example.com') AND "users"."id" != 2) LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m


Started PUT "/api/v1/users/2" for 127.0.0.1 at 2014-09-28 21:32:13 -0400
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@example.com') AND "users"."id" != 2) LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m


Started PUT "/api/v1/users/2" for 127.0.0.1 at 2014-09-28 21:32:50 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Unpermitted parameters: partner
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@example.com') AND "users"."id" != 2) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m


Started PUT "/api/v1/users/2" for 127.0.0.1 at 2014-09-28 21:33:44 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Unpermitted parameters: partner
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@example.com') AND "users"."id" != 2) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m


Started PUT "/api/v1/users/2" for 127.0.0.1 at 2014-09-28 21:34:45 -0400
  [1m[36mActiveRecord::SchemaMigration Load (2.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@example.com') AND "users"."id" != 2) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m


Started PUT "/api/v1/users/2" for 127.0.0.1 at 2014-09-28 21:36:13 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "state" = $1, "updated_at" = $2 WHERE "users"."id" = 2  [["state", "MI"], ["updated_at", "2014-09-29 01:36:13.526440"]]
  [1m[36m (81.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@example.com') AND "users"."id" != 2) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK


Started GET "/api/v1/users/2" for 127.0.0.1 at 2014-09-28 21:36:31 -0400
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 2  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mPartner Load (0.4ms)[0m  SELECT  "partners".* FROM "partners"  WHERE "partners"."user_id" = $1 LIMIT 1  [["user_id", 2]]
  [1m[36mChild Exists (5.6ms)[0m  [1mSELECT  1 AS one FROM "children"  WHERE "children"."user_id" = $1 LIMIT 1[0m  [["user_id", 2]]
  [1m[35mResidence Exists (0.5ms)[0m  SELECT  1 AS one FROM "residences"  WHERE "residences"."user_id" = $1 LIMIT 1  [["user_id", 2]]
  [1m[36mAsset Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "assets"  WHERE "assets"."user_id" = $1 LIMIT 1[0m  [["user_id", 2]]
  [1m[35mAssumption Exists (0.3ms)[0m  SELECT  1 AS one FROM "assumptions"  WHERE "assumptions"."user_id" = $1 LIMIT 1  [["user_id", 2]]
  [1m[36mRetirement Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "retirements"  WHERE "retirements"."user_id" = $1 LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.2ms)[0m  SELECT "children"."id" FROM "children"  WHERE "children"."user_id" = $1  [["user_id", 2]]
  [1m[36m (0.2ms)[0m  [1mSELECT "residences"."id" FROM "residences"  WHERE "residences"."user_id" = $1[0m  [["user_id", 2]]
  [1m[35m (0.3ms)[0m  SELECT "assets"."id" FROM "assets"  WHERE "assets"."user_id" = $1  [["user_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT "assumptions"."id" FROM "assumptions"  WHERE "assumptions"."user_id" = $1[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  SELECT "retirements"."id" FROM "retirements"  WHERE "retirements"."user_id" = $1  [["user_id", 2]]


Started PUT "/api/v1/users/2" for 127.0.0.1 at 2014-09-28 21:38:13 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Unpermitted parameters: partner
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@example.com' LIMIT 1

NoMethodError - undefined method `update_attibute' for #<User:0x007fcda61c0090>:
  activemodel (4.1.5) lib/active_model/attribute_methods.rb:435:in `method_missing'
  activerecord (4.1.5) lib/active_record/attribute_methods.rb:208:in `method_missing'
   () Users/worker/sandbox/rails-projects/linl-api/app/controllers/api/v1/users.rb:54:in `block (2 levels) in <class:Users>'
  grape (0.9.0) lib/grape/endpoint.rb:45:in `block in generate_api_method'
  grape (0.9.0) lib/grape/endpoint.rb:220:in `run'
  grape (0.9.0) lib/grape/endpoint.rb:171:in `block in call!'
  grape (0.9.0) lib/grape/middleware/base.rb:24:in `call!'
  grape (0.9.0) lib/grape/middleware/base.rb:18:in `call'
  grape (0.9.0) lib/grape/middleware/base.rb:24:in `call!'
  grape (0.9.0) lib/grape/middleware/base.rb:18:in `call'
  grape (0.9.0) lib/grape/middleware/error.rb:27:in `block in call!'
  grape (0.9.0) lib/grape/middleware/error.rb:26:in `call!'
  grape (0.9.0) lib/grape/middleware/base.rb:18:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  rack (1.5.2) lib/rack/builder.rb:138:in `call'
  grape (0.9.0) lib/grape/endpoint.rb:172:in `call!'
  grape (0.9.0) lib/grape/endpoint.rb:160:in `call'
  rack-mount (0.8.3) lib/rack/mount/route_set.rb:152:in `block in call'
  rack-mount (0.8.3) lib/rack/mount/code_generation.rb:96:in `block in recognize'
  rack-mount (0.8.3) lib/rack/mount/code_generation.rb:68:in `optimized_each'
  rack-mount (0.8.3) lib/rack/mount/code_generation.rb:95:in `recognize'
  rack-mount (0.8.3) lib/rack/mount/route_set.rb:141:in `call'
  grape (0.9.0) lib/grape/api.rb:128:in `call'
  grape (0.9.0) lib/grape/api.rb:43:in `call!'
  grape (0.9.0) lib/grape/api.rb:39:in `call'
  actionpack (4.1.5) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.1.5) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.1.5) lib/action_dispatch/routing/route_set.rb:678:in `call'
  meta_request (0.3.4) lib/meta_request/middlewares/app_request_handler.rb:13:in `call'
  meta_request (0.3.4) lib/meta_request/middlewares/meta_request_handler.rb:13:in `call'
  rack-cors (0.2.9) lib/rack/cors.rb:54:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:35:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.1.5) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.1.5) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.1.5) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.1.5) lib/active_record/connection_adapters/abstract/connection_pool.rb:621:in `call'
  activerecord (4.1.5) lib/active_record/migration.rb:380:in `call'
  actionpack (4.1.5) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.1.5) lib/active_support/callbacks.rb:82:in `run_callbacks'
  actionpack (4.1.5) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.1.5) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.1.5) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (2.0.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (2.0.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (2.0.0) lib/better_errors/middleware.rb:57:in `call'
  rack-contrib (1.1.0) lib/rack/contrib/response_headers.rb:17:in `call'
  meta_request (0.3.4) lib/meta_request/middlewares/headers.rb:16:in `call'
  actionpack (4.1.5) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.1.5) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.1.5) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.1.5) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.1.5) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.1.5) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.1.5) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.1.5) lib/rails/rack/logger.rb:20:in `call'
  quiet_assets (1.0.3) lib/quiet_assets.rb:23:in `call_with_quiet_assets'
  actionpack (4.1.5) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.1.5) lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.1.5) lib/action_dispatch/middleware/static.rb:64:in `call'
  rack (1.5.2) lib/rack/sendfile.rb:112:in `call'
  railties (4.1.5) lib/rails/engine.rb:514:in `call'
  railties (4.1.5) lib/rails/application.rb:144:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
   () Users/worker/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
   () Users/worker/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
   () Users/worker/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'



Started PUT "/api/v1/users/2" for 127.0.0.1 at 2014-09-28 21:39:06 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Unpermitted parameters: partner
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@example.com' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "state" = $1, "updated_at" = $2 WHERE "users"."id" = 2  [["state", "FE"], ["updated_at", "2014-09-29 01:39:07.066477"]]
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@example.com') AND "users"."id" != 2) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK


Started GET "/api/v1/users/2" for 127.0.0.1 at 2014-09-28 21:39:12 -0400
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 2  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mPartner Load (0.3ms)[0m  SELECT  "partners".* FROM "partners"  WHERE "partners"."user_id" = $1 LIMIT 1  [["user_id", 2]]
  [1m[36mChild Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "children"  WHERE "children"."user_id" = $1 LIMIT 1[0m  [["user_id", 2]]
  [1m[35mResidence Exists (0.3ms)[0m  SELECT  1 AS one FROM "residences"  WHERE "residences"."user_id" = $1 LIMIT 1  [["user_id", 2]]
  [1m[36mAsset Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "assets"  WHERE "assets"."user_id" = $1 LIMIT 1[0m  [["user_id", 2]]
  [1m[35mAssumption Exists (0.3ms)[0m  SELECT  1 AS one FROM "assumptions"  WHERE "assumptions"."user_id" = $1 LIMIT 1  [["user_id", 2]]
  [1m[36mRetirement Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "retirements"  WHERE "retirements"."user_id" = $1 LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.4ms)[0m  SELECT "children"."id" FROM "children"  WHERE "children"."user_id" = $1  [["user_id", 2]]
  [1m[36m (0.2ms)[0m  [1mSELECT "residences"."id" FROM "residences"  WHERE "residences"."user_id" = $1[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  SELECT "assets"."id" FROM "assets"  WHERE "assets"."user_id" = $1  [["user_id", 2]]
  [1m[36m (0.2ms)[0m  [1mSELECT "assumptions"."id" FROM "assumptions"  WHERE "assumptions"."user_id" = $1[0m  [["user_id", 2]]
  [1m[35m (0.3ms)[0m  SELECT "retirements"."id" FROM "retirements"  WHERE "retirements"."user_id" = $1  [["user_id", 2]]


Started PUT "/api/v1/users/2" for 127.0.0.1 at 2014-09-28 21:40:27 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Unpermitted parameters: partner
  [1m[35mUser Load (1.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@example.com') AND "users"."id" != 2) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@example.com') AND "users"."id" != 2) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK


Started GET "/api/v1/users/2" for 127.0.0.1 at 2014-09-28 21:40:37 -0400
  [1m[36mUser Load (1.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 2  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mPartner Load (0.6ms)[0m  SELECT  "partners".* FROM "partners"  WHERE "partners"."user_id" = $1 LIMIT 1  [["user_id", 2]]
  [1m[36mChild Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "children"  WHERE "children"."user_id" = $1 LIMIT 1[0m  [["user_id", 2]]
  [1m[35mResidence Exists (0.3ms)[0m  SELECT  1 AS one FROM "residences"  WHERE "residences"."user_id" = $1 LIMIT 1  [["user_id", 2]]
  [1m[36mAsset Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "assets"  WHERE "assets"."user_id" = $1 LIMIT 1[0m  [["user_id", 2]]
  [1m[35mAssumption Exists (0.3ms)[0m  SELECT  1 AS one FROM "assumptions"  WHERE "assumptions"."user_id" = $1 LIMIT 1  [["user_id", 2]]
  [1m[36mRetirement Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "retirements"  WHERE "retirements"."user_id" = $1 LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.2ms)[0m  SELECT "children"."id" FROM "children"  WHERE "children"."user_id" = $1  [["user_id", 2]]
  [1m[36m (0.2ms)[0m  [1mSELECT "residences"."id" FROM "residences"  WHERE "residences"."user_id" = $1[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  SELECT "assets"."id" FROM "assets"  WHERE "assets"."user_id" = $1  [["user_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT "assumptions"."id" FROM "assumptions"  WHERE "assumptions"."user_id" = $1[0m  [["user_id", 2]]
  [1m[35m (0.3ms)[0m  SELECT "retirements"."id" FROM "retirements"  WHERE "retirements"."user_id" = $1  [["user_id", 2]]


Started OPTIONS "/api/v1/users/2" for 127.0.0.1 at 2014-09-28 21:41:58 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m


Started PUT "/api/v1/users/2" for 127.0.0.1 at 2014-09-28 21:41:58 -0400
Unpermitted parameters: partner
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@example.com') AND "users"."id" != 2) LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m


Started PUT "/api/v1/users/2" for 127.0.0.1 at 2014-09-28 21:42:37 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Unpermitted parameters: partner
  [1m[35mUser Load (1.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@example.com') AND "users"."id" != 2) LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m


Started GET "/api/v1/users/2" for 127.0.0.1 at 2014-09-28 21:43:07 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 2  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mPartner Load (0.4ms)[0m  [1mSELECT  "partners".* FROM "partners"  WHERE "partners"."user_id" = $1 LIMIT 1[0m  [["user_id", 2]]
  [1m[35mChild Exists (0.3ms)[0m  SELECT  1 AS one FROM "children"  WHERE "children"."user_id" = $1 LIMIT 1  [["user_id", 2]]
  [1m[36mResidence Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "residences"  WHERE "residences"."user_id" = $1 LIMIT 1[0m  [["user_id", 2]]
  [1m[35mAsset Exists (0.3ms)[0m  SELECT  1 AS one FROM "assets"  WHERE "assets"."user_id" = $1 LIMIT 1  [["user_id", 2]]
  [1m[36mAssumption Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "assumptions"  WHERE "assumptions"."user_id" = $1 LIMIT 1[0m  [["user_id", 2]]
  [1m[35mRetirement Exists (0.3ms)[0m  SELECT  1 AS one FROM "retirements"  WHERE "retirements"."user_id" = $1 LIMIT 1  [["user_id", 2]]
  [1m[36m (0.2ms)[0m  [1mSELECT "children"."id" FROM "children"  WHERE "children"."user_id" = $1[0m  [["user_id", 2]]
  [1m[35m (0.4ms)[0m  SELECT "residences"."id" FROM "residences"  WHERE "residences"."user_id" = $1  [["user_id", 2]]
  [1m[36m (0.2ms)[0m  [1mSELECT "assets"."id" FROM "assets"  WHERE "assets"."user_id" = $1[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  SELECT "assumptions"."id" FROM "assumptions"  WHERE "assumptions"."user_id" = $1  [["user_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT "retirements"."id" FROM "retirements"  WHERE "retirements"."user_id" = $1[0m  [["user_id", 2]]


Started PUT "/api/v1/users/2" for 127.0.0.1 at 2014-09-28 21:44:22 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Unpermitted parameters: partner
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@example.com' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@example.com') AND "users"."id" != 2) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m


Started PUT "/api/v1/users/2" for 127.0.0.1 at 2014-09-28 21:45:06 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Unpermitted parameters: partner
  [1m[35mUser Load (2.8ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@example.com') AND "users"."id" != 2) LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m


Started PUT "/api/v1/users/2" for 127.0.0.1 at 2014-09-28 21:45:40 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Unpermitted parameters: partner
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "first_name" = $1, "updated_at" = $2 WHERE "users"."id" = 2  [["first_name", "Kyle"], ["updated_at", "2014-09-29 01:45:40.865563"]]
  [1m[36m (1.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@example.com') AND "users"."id" != 2) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK


Started PUT "/api/v1/users/2" for 127.0.0.1 at 2014-09-28 21:47:12 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Unpermitted parameters: partner
  [1m[35mUser Load (1.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@example.com' LIMIT 1
  [1m[36mSQL (3.1ms)[0m  [1mUPDATE "users" SET "email" = 'test@example.com', "password" = NULL, "password_confirmation" = NULL, "first_name" = NULL, "last_name" = NULL, "birthdate" = NULL, "state" = 'AL', "ss_currently_collecting" = 'f', "current_earnings_cents" = 555, "final_year_earnings_cents" = NULL, "roth_first" = 'f', "retirement_date" = NULL, "marital_status" = 'f', "created_at" = 'Mon, 29 Sep 2014 00:22:46 GMT', "updated_at" = 'Mon, 29 Sep 2014 00:58:31 GMT' WHERE "users"."id" = 2[0m
PG::UndefinedColumn: ERROR:  column "password" of relation "users" does not exist
LINE 1: UPDATE "users" SET "email" = 'test@example.com', "password" ...
                                                         ^
: UPDATE "users" SET "email" = 'test@example.com', "password" = NULL, "password_confirmation" = NULL, "first_name" = NULL, "last_name" = NULL, "birthdate" = NULL, "state" = 'AL', "ss_currently_collecting" = 'f', "current_earnings_cents" = 555, "final_year_earnings_cents" = NULL, "roth_first" = 'f', "retirement_date" = NULL, "marital_status" = 'f', "created_at" = 'Mon, 29 Sep 2014 00:22:46 GMT', "updated_at" = 'Mon, 29 Sep 2014 00:58:31 GMT' WHERE "users"."id" = 2

PG::UndefinedColumn - ERROR:  column "password" of relation "users" does not exist
LINE 1: UPDATE "users" SET "email" = 'test@example.com', "password" ...
                                                         ^
:
  activerecord (4.1.5) lib/active_record/connection_adapters/postgresql_adapter.rb:822:in `block in exec_no_cache'
  activerecord (4.1.5) lib/active_record/connection_adapters/abstract_adapter.rb:373:in `block in log'
  activesupport (4.1.5) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activerecord (4.1.5) lib/active_record/connection_adapters/abstract_adapter.rb:367:in `log'
  activerecord (4.1.5) lib/active_record/connection_adapters/postgresql_adapter.rb:822:in `exec_no_cache'
  activerecord (4.1.5) lib/active_record/connection_adapters/postgresql/database_statements.rb:154:in `exec_delete'
  activerecord (4.1.5) lib/active_record/connection_adapters/abstract/database_statements.rb:101:in `update'
  activerecord (4.1.5) lib/active_record/connection_adapters/abstract/query_cache.rb:14:in `update'
  activerecord (4.1.5) lib/active_record/relation.rb:326:in `update_all'
  activerecord (4.1.5) lib/active_record/persistence.rb:278:in `update_columns'
   () Users/worker/sandbox/rails-projects/linl-api/app/controllers/api/v1/users.rb:54:in `block (2 levels) in <class:Users>'
  grape (0.9.0) lib/grape/endpoint.rb:45:in `block in generate_api_method'
  grape (0.9.0) lib/grape/endpoint.rb:220:in `run'
  grape (0.9.0) lib/grape/endpoint.rb:171:in `block in call!'
  grape (0.9.0) lib/grape/middleware/base.rb:24:in `call!'
  grape (0.9.0) lib/grape/middleware/base.rb:18:in `call'
  grape (0.9.0) lib/grape/middleware/base.rb:24:in `call!'
  grape (0.9.0) lib/grape/middleware/base.rb:18:in `call'
  grape (0.9.0) lib/grape/middleware/error.rb:27:in `block in call!'
  grape (0.9.0) lib/grape/middleware/error.rb:26:in `call!'
  grape (0.9.0) lib/grape/middleware/base.rb:18:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  rack (1.5.2) lib/rack/builder.rb:138:in `call'
  grape (0.9.0) lib/grape/endpoint.rb:172:in `call!'
  grape (0.9.0) lib/grape/endpoint.rb:160:in `call'
  rack-mount (0.8.3) lib/rack/mount/route_set.rb:152:in `block in call'
  rack-mount (0.8.3) lib/rack/mount/code_generation.rb:96:in `block in recognize'
  rack-mount (0.8.3) lib/rack/mount/code_generation.rb:68:in `optimized_each'
  rack-mount (0.8.3) lib/rack/mount/code_generation.rb:95:in `recognize'
  rack-mount (0.8.3) lib/rack/mount/route_set.rb:141:in `call'
  grape (0.9.0) lib/grape/api.rb:128:in `call'
  grape (0.9.0) lib/grape/api.rb:43:in `call!'
  grape (0.9.0) lib/grape/api.rb:39:in `call'
  actionpack (4.1.5) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.1.5) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.1.5) lib/action_dispatch/routing/route_set.rb:678:in `call'
  meta_request (0.3.4) lib/meta_request/middlewares/app_request_handler.rb:13:in `call'
  meta_request (0.3.4) lib/meta_request/middlewares/meta_request_handler.rb:13:in `call'
  rack-cors (0.2.9) lib/rack/cors.rb:54:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:35:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.1.5) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.1.5) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.1.5) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.1.5) lib/active_record/connection_adapters/abstract/connection_pool.rb:621:in `call'
  activerecord (4.1.5) lib/active_record/migration.rb:380:in `call'
  actionpack (4.1.5) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.1.5) lib/active_support/callbacks.rb:82:in `run_callbacks'
  actionpack (4.1.5) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.1.5) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.1.5) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (2.0.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (2.0.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (2.0.0) lib/better_errors/middleware.rb:57:in `call'
  rack-contrib (1.1.0) lib/rack/contrib/response_headers.rb:17:in `call'
  meta_request (0.3.4) lib/meta_request/middlewares/headers.rb:16:in `call'
  actionpack (4.1.5) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.1.5) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.1.5) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.1.5) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.1.5) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.1.5) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.1.5) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.1.5) lib/rails/rack/logger.rb:20:in `call'
  quiet_assets (1.0.3) lib/quiet_assets.rb:23:in `call_with_quiet_assets'
  actionpack (4.1.5) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.1.5) lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.1.5) lib/action_dispatch/middleware/static.rb:64:in `call'
  rack (1.5.2) lib/rack/sendfile.rb:112:in `call'
  railties (4.1.5) lib/rails/engine.rb:514:in `call'
  railties (4.1.5) lib/rails/application.rb:144:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
   () Users/worker/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
   () Users/worker/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
   () Users/worker/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'



Started PUT "/api/v1/users/2" for 127.0.0.1 at 2014-09-28 21:49:30 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Unpermitted parameters: partner
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@example.com' LIMIT 1
  [1m[36mSQL (1.3ms)[0m  [1mUPDATE "users" SET "first_name" = 'Kyle', "last_name" = 'Aungst' WHERE "users"."id" = 2[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@example.com') AND "users"."id" != 2) LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK


Started PUT "/api/v1/users/2" for 127.0.0.1 at 2014-09-28 21:49:54 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Unpermitted parameters: partner
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@example.com' LIMIT 1
  [1m[36mSQL (1.4ms)[0m  [1mUPDATE "users" SET "first_name" = 'Kyle', "last_name" = 'Aungst' WHERE "users"."id" = 2[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@example.com') AND "users"."id" != 2) LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK


Started PUT "/api/v1/users/2" for 127.0.0.1 at 2014-09-28 21:50:15 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Unpermitted parameters: partner
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@example.com' LIMIT 1
  [1m[36mSQL (1.5ms)[0m  [1mUPDATE "users" SET "first_name" = 'Kyle' WHERE "users"."id" = 2[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@example.com') AND "users"."id" != 2) LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK


Started OPTIONS "/api/v1/users/2" for 127.0.0.1 at 2014-09-28 21:53:46 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m


Started PUT "/api/v1/users/2" for 127.0.0.1 at 2014-09-28 21:53:46 -0400
Unpermitted parameters: partner
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@example.com') AND "users"."id" != 2) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m


Started PUT "/api/v1/users/2" for 127.0.0.1 at 2014-09-28 21:57:05 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m


Started PUT "/api/v1/users/2" for 127.0.0.1 at 2014-09-28 21:57:16 -0400


Started PUT "/api/v1/users/2" for 127.0.0.1 at 2014-09-28 21:57:52 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" IS NULL LIMIT 1

NoMethodError - undefined method `save!' for nil:NilClass:
   () Users/worker/sandbox/rails-projects/linl-api/app/controllers/api/v1/users.rb:62:in `block (2 levels) in <class:Users>'
  grape (0.9.0) lib/grape/endpoint.rb:45:in `block in generate_api_method'
  grape (0.9.0) lib/grape/endpoint.rb:220:in `run'
  grape (0.9.0) lib/grape/endpoint.rb:171:in `block in call!'
  grape (0.9.0) lib/grape/middleware/base.rb:24:in `call!'
  grape (0.9.0) lib/grape/middleware/base.rb:18:in `call'
  grape (0.9.0) lib/grape/middleware/base.rb:24:in `call!'
  grape (0.9.0) lib/grape/middleware/base.rb:18:in `call'
  grape (0.9.0) lib/grape/middleware/error.rb:27:in `block in call!'
  grape (0.9.0) lib/grape/middleware/error.rb:26:in `call!'
  grape (0.9.0) lib/grape/middleware/base.rb:18:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  rack (1.5.2) lib/rack/builder.rb:138:in `call'
  grape (0.9.0) lib/grape/endpoint.rb:172:in `call!'
  grape (0.9.0) lib/grape/endpoint.rb:160:in `call'
  rack-mount (0.8.3) lib/rack/mount/route_set.rb:152:in `block in call'
  rack-mount (0.8.3) lib/rack/mount/code_generation.rb:96:in `block in recognize'
  rack-mount (0.8.3) lib/rack/mount/code_generation.rb:68:in `optimized_each'
  rack-mount (0.8.3) lib/rack/mount/code_generation.rb:95:in `recognize'
  rack-mount (0.8.3) lib/rack/mount/route_set.rb:141:in `call'
  grape (0.9.0) lib/grape/api.rb:128:in `call'
  grape (0.9.0) lib/grape/api.rb:43:in `call!'
  grape (0.9.0) lib/grape/api.rb:39:in `call'
  actionpack (4.1.5) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.1.5) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.1.5) lib/action_dispatch/routing/route_set.rb:678:in `call'
  meta_request (0.3.4) lib/meta_request/middlewares/app_request_handler.rb:13:in `call'
  meta_request (0.3.4) lib/meta_request/middlewares/meta_request_handler.rb:13:in `call'
  rack-cors (0.2.9) lib/rack/cors.rb:54:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:35:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.1.5) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.1.5) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.1.5) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.1.5) lib/active_record/connection_adapters/abstract/connection_pool.rb:621:in `call'
  activerecord (4.1.5) lib/active_record/migration.rb:380:in `call'
  actionpack (4.1.5) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.1.5) lib/active_support/callbacks.rb:82:in `run_callbacks'
  actionpack (4.1.5) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.1.5) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.1.5) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (2.0.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (2.0.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (2.0.0) lib/better_errors/middleware.rb:57:in `call'
  rack-contrib (1.1.0) lib/rack/contrib/response_headers.rb:17:in `call'
  meta_request (0.3.4) lib/meta_request/middlewares/headers.rb:16:in `call'
  actionpack (4.1.5) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.1.5) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.1.5) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.1.5) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.1.5) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.1.5) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.1.5) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.1.5) lib/rails/rack/logger.rb:20:in `call'
  quiet_assets (1.0.3) lib/quiet_assets.rb:23:in `call_with_quiet_assets'
  actionpack (4.1.5) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.1.5) lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.1.5) lib/action_dispatch/middleware/static.rb:64:in `call'
  rack (1.5.2) lib/rack/sendfile.rb:112:in `call'
  railties (4.1.5) lib/rails/engine.rb:514:in `call'
  railties (4.1.5) lib/rails/application.rb:144:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
   () Users/worker/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
   () Users/worker/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
   () Users/worker/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'



Started PUT "/api/v1/users/2" for 127.0.0.1 at 2014-09-28 21:58:22 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" IS NULL LIMIT 1


Started PUT "/api/v1/users/2" for 127.0.0.1 at 2014-09-28 22:01:22 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" IS NULL LIMIT 1

NoMethodError - undefined method `update' for nil:NilClass:
   () Users/worker/sandbox/rails-projects/linl-api/app/controllers/api/v1/users.rb:60:in `block (2 levels) in <class:Users>'
  grape (0.9.0) lib/grape/endpoint.rb:45:in `block in generate_api_method'
  grape (0.9.0) lib/grape/endpoint.rb:220:in `run'
  grape (0.9.0) lib/grape/endpoint.rb:171:in `block in call!'
  grape (0.9.0) lib/grape/middleware/base.rb:24:in `call!'
  grape (0.9.0) lib/grape/middleware/base.rb:18:in `call'
  grape (0.9.0) lib/grape/middleware/base.rb:24:in `call!'
  grape (0.9.0) lib/grape/middleware/base.rb:18:in `call'
  grape (0.9.0) lib/grape/middleware/error.rb:27:in `block in call!'
  grape (0.9.0) lib/grape/middleware/error.rb:26:in `call!'
  grape (0.9.0) lib/grape/middleware/base.rb:18:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  rack (1.5.2) lib/rack/builder.rb:138:in `call'
  grape (0.9.0) lib/grape/endpoint.rb:172:in `call!'
  grape (0.9.0) lib/grape/endpoint.rb:160:in `call'
  rack-mount (0.8.3) lib/rack/mount/route_set.rb:152:in `block in call'
  rack-mount (0.8.3) lib/rack/mount/code_generation.rb:96:in `block in recognize'
  rack-mount (0.8.3) lib/rack/mount/code_generation.rb:68:in `optimized_each'
  rack-mount (0.8.3) lib/rack/mount/code_generation.rb:95:in `recognize'
  rack-mount (0.8.3) lib/rack/mount/route_set.rb:141:in `call'
  grape (0.9.0) lib/grape/api.rb:128:in `call'
  grape (0.9.0) lib/grape/api.rb:43:in `call!'
  grape (0.9.0) lib/grape/api.rb:39:in `call'
  actionpack (4.1.5) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.1.5) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.1.5) lib/action_dispatch/routing/route_set.rb:678:in `call'
  meta_request (0.3.4) lib/meta_request/middlewares/app_request_handler.rb:13:in `call'
  meta_request (0.3.4) lib/meta_request/middlewares/meta_request_handler.rb:13:in `call'
  rack-cors (0.2.9) lib/rack/cors.rb:54:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:35:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.1.5) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.1.5) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.1.5) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.1.5) lib/active_record/connection_adapters/abstract/connection_pool.rb:621:in `call'
  activerecord (4.1.5) lib/active_record/migration.rb:380:in `call'
  actionpack (4.1.5) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.1.5) lib/active_support/callbacks.rb:82:in `run_callbacks'
  actionpack (4.1.5) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.1.5) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.1.5) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (2.0.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (2.0.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (2.0.0) lib/better_errors/middleware.rb:57:in `call'
  rack-contrib (1.1.0) lib/rack/contrib/response_headers.rb:17:in `call'
  meta_request (0.3.4) lib/meta_request/middlewares/headers.rb:16:in `call'
  actionpack (4.1.5) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.1.5) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.1.5) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.1.5) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.1.5) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.1.5) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.1.5) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.1.5) lib/rails/rack/logger.rb:20:in `call'
  quiet_assets (1.0.3) lib/quiet_assets.rb:23:in `call_with_quiet_assets'
  actionpack (4.1.5) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.1.5) lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.1.5) lib/action_dispatch/middleware/static.rb:64:in `call'
  rack (1.5.2) lib/rack/sendfile.rb:112:in `call'
  railties (4.1.5) lib/rails/engine.rb:514:in `call'
  railties (4.1.5) lib/rails/application.rb:144:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
   () Users/worker/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
   () Users/worker/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
   () Users/worker/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'



Started PUT "/api/v1/users/2" for 127.0.0.1 at 2014-09-28 22:02:34 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" IS NULL LIMIT 1


Started PUT "/api/v1/users/2" for 127.0.0.1 at 2014-09-28 22:03:24 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" IS NULL LIMIT 1


Started GET "/api/v1/users/2" for 127.0.0.1 at 2014-09-28 22:13:34 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mUser Load (1.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 2  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mPartner Load (0.7ms)[0m  [1mSELECT  "partners".* FROM "partners"  WHERE "partners"."user_id" = $1 LIMIT 1[0m  [["user_id", 2]]
  [1m[35mChild Exists (0.7ms)[0m  SELECT  1 AS one FROM "children"  WHERE "children"."user_id" = $1 LIMIT 1  [["user_id", 2]]
  [1m[36mResidence Exists (2.1ms)[0m  [1mSELECT  1 AS one FROM "residences"  WHERE "residences"."user_id" = $1 LIMIT 1[0m  [["user_id", 2]]
  [1m[35mAsset Exists (0.6ms)[0m  SELECT  1 AS one FROM "assets"  WHERE "assets"."user_id" = $1 LIMIT 1  [["user_id", 2]]
  [1m[36mAssumption Exists (4.9ms)[0m  [1mSELECT  1 AS one FROM "assumptions"  WHERE "assumptions"."user_id" = $1 LIMIT 1[0m  [["user_id", 2]]
  [1m[35mRetirement Exists (0.8ms)[0m  SELECT  1 AS one FROM "retirements"  WHERE "retirements"."user_id" = $1 LIMIT 1  [["user_id", 2]]
  [1m[36m (0.3ms)[0m  [1mSELECT "children"."id" FROM "children"  WHERE "children"."user_id" = $1[0m  [["user_id", 2]]
  [1m[35m (0.3ms)[0m  SELECT "residences"."id" FROM "residences"  WHERE "residences"."user_id" = $1  [["user_id", 2]]
  [1m[36m (0.3ms)[0m  [1mSELECT "assets"."id" FROM "assets"  WHERE "assets"."user_id" = $1[0m  [["user_id", 2]]
  [1m[35m (0.3ms)[0m  SELECT "assumptions"."id" FROM "assumptions"  WHERE "assumptions"."user_id" = $1  [["user_id", 2]]
  [1m[36m (0.8ms)[0m  [1mSELECT "retirements"."id" FROM "retirements"  WHERE "retirements"."user_id" = $1[0m  [["user_id", 2]]

ActionController::RoutingError (No route matches [GET] "/assets/bootstrap.css.map"):
  actionpack (4.1.5) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  actionpack (4.1.5) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.1.5) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.1.5) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.1.5) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.1.5) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.1.5) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.1.5) lib/rails/rack/logger.rb:20:in `call'
  quiet_assets (1.0.3) lib/quiet_assets.rb:23:in `call_with_quiet_assets'
  actionpack (4.1.5) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.1.5) lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.1.5) lib/action_dispatch/middleware/static.rb:64:in `call'
  rack (1.5.2) lib/rack/sendfile.rb:112:in `call'
  railties (4.1.5) lib/rails/engine.rb:514:in `call'
  railties (4.1.5) lib/rails/application.rb:144:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /Users/worker/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /Users/worker/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /Users/worker/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'




Started OPTIONS "/api/v1/users/2" for 127.0.0.1 at 2014-09-28 22:13:42 -0400


Started PUT "/api/v1/users/2" for 127.0.0.1 at 2014-09-28 22:13:42 -0400


Started PUT "/api/v1/users/2" for 127.0.0.1 at 2014-09-28 22:15:17 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m


Started PUT "/api/v1/users/2" for 127.0.0.1 at 2014-09-28 22:15:23 -0400


Started PUT "/api/v1/users/2" for 127.0.0.1 at 2014-09-28 22:15:38 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" IS NULL LIMIT 1


Started PUT "/api/v1/users/2" for 127.0.0.1 at 2014-09-28 22:19:33 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" IS NULL LIMIT 1


Started PUT "/api/v1/users/2" for 127.0.0.1 at 2014-09-28 22:20:13 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" IS NULL LIMIT 1


Started PUT "/api/v1/users/2" for 127.0.0.1 at 2014-09-28 22:20:50 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" IS NULL LIMIT 1


Started PUT "/api/v1/users/2" for 127.0.0.1 at 2014-09-28 22:21:20 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" IS NULL LIMIT 1


Started PUT "/api/v1/users/2" for 127.0.0.1 at 2014-09-28 22:21:52 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@example.com' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK

ActiveRecord::UnknownAttributeError - unknown attribute: user:
  activerecord (4.1.5) lib/active_record/attribute_assignment.rb:50:in `rescue in _assign_attribute'
  activerecord (4.1.5) lib/active_record/attribute_assignment.rb:45:in `_assign_attribute'
  activerecord (4.1.5) lib/active_record/attribute_assignment.rb:56:in `block in assign_nested_parameter_attributes'
  activerecord (4.1.5) lib/active_record/attribute_assignment.rb:56:in `assign_nested_parameter_attributes'
  activerecord (4.1.5) lib/active_record/attribute_assignment.rb:36:in `assign_attributes'
  activerecord (4.1.5) lib/active_record/persistence.rb:231:in `block in update'
  activerecord (4.1.5) lib/active_record/transactions.rb:329:in `block in with_transaction_returning_status'
  activerecord (4.1.5) lib/active_record/connection_adapters/abstract/database_statements.rb:201:in `block in transaction'
  activerecord (4.1.5) lib/active_record/connection_adapters/abstract/database_statements.rb:209:in `within_new_transaction'
  activerecord (4.1.5) lib/active_record/connection_adapters/abstract/database_statements.rb:201:in `transaction'
  activerecord (4.1.5) lib/active_record/transactions.rb:208:in `transaction'
  activerecord (4.1.5) lib/active_record/transactions.rb:326:in `with_transaction_returning_status'
  activerecord (4.1.5) lib/active_record/persistence.rb:230:in `update'
   () Users/worker/sandbox/rails-projects/linl-api/app/controllers/api/v1/users.rb:63:in `block (2 levels) in <class:Users>'
  grape (0.9.0) lib/grape/endpoint.rb:45:in `block in generate_api_method'
  grape (0.9.0) lib/grape/endpoint.rb:220:in `run'
  grape (0.9.0) lib/grape/endpoint.rb:171:in `block in call!'
  grape (0.9.0) lib/grape/middleware/base.rb:24:in `call!'
  grape (0.9.0) lib/grape/middleware/base.rb:18:in `call'
  grape (0.9.0) lib/grape/middleware/base.rb:24:in `call!'
  grape (0.9.0) lib/grape/middleware/base.rb:18:in `call'
  grape (0.9.0) lib/grape/middleware/error.rb:27:in `block in call!'
  grape (0.9.0) lib/grape/middleware/error.rb:26:in `call!'
  grape (0.9.0) lib/grape/middleware/base.rb:18:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  rack (1.5.2) lib/rack/builder.rb:138:in `call'
  grape (0.9.0) lib/grape/endpoint.rb:172:in `call!'
  grape (0.9.0) lib/grape/endpoint.rb:160:in `call'
  rack-mount (0.8.3) lib/rack/mount/route_set.rb:152:in `block in call'
  rack-mount (0.8.3) lib/rack/mount/code_generation.rb:96:in `block in recognize'
  rack-mount (0.8.3) lib/rack/mount/code_generation.rb:68:in `optimized_each'
  rack-mount (0.8.3) lib/rack/mount/code_generation.rb:95:in `recognize'
  rack-mount (0.8.3) lib/rack/mount/route_set.rb:141:in `call'
  grape (0.9.0) lib/grape/api.rb:128:in `call'
  grape (0.9.0) lib/grape/api.rb:43:in `call!'
  grape (0.9.0) lib/grape/api.rb:39:in `call'
  actionpack (4.1.5) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.1.5) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.1.5) lib/action_dispatch/routing/route_set.rb:678:in `call'
  meta_request (0.3.4) lib/meta_request/middlewares/app_request_handler.rb:13:in `call'
  meta_request (0.3.4) lib/meta_request/middlewares/meta_request_handler.rb:13:in `call'
  rack-cors (0.2.9) lib/rack/cors.rb:54:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:35:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.1.5) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.1.5) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.1.5) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.1.5) lib/active_record/connection_adapters/abstract/connection_pool.rb:621:in `call'
  activerecord (4.1.5) lib/active_record/migration.rb:380:in `call'
  actionpack (4.1.5) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.1.5) lib/active_support/callbacks.rb:82:in `run_callbacks'
  actionpack (4.1.5) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.1.5) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.1.5) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (2.0.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (2.0.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (2.0.0) lib/better_errors/middleware.rb:57:in `call'
  rack-contrib (1.1.0) lib/rack/contrib/response_headers.rb:17:in `call'
  meta_request (0.3.4) lib/meta_request/middlewares/headers.rb:16:in `call'
  actionpack (4.1.5) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.1.5) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.1.5) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.1.5) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.1.5) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.1.5) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.1.5) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.1.5) lib/rails/rack/logger.rb:20:in `call'
  quiet_assets (1.0.3) lib/quiet_assets.rb:23:in `call_with_quiet_assets'
  actionpack (4.1.5) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.1.5) lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.1.5) lib/action_dispatch/middleware/static.rb:64:in `call'
  rack (1.5.2) lib/rack/sendfile.rb:112:in `call'
  railties (4.1.5) lib/rails/engine.rb:514:in `call'
  railties (4.1.5) lib/rails/application.rb:144:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
   () Users/worker/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
   () Users/worker/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
   () Users/worker/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'



Started PUT "/api/v1/users/2" for 127.0.0.1 at 2014-09-28 22:22:05 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@example.com') AND "users"."id" != 2) LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m


Started PUT "/api/v1/users/2" for 127.0.0.1 at 2014-09-28 22:23:07 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mUser Load (1.3ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@example.com') AND "users"."id" != 2) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m


Started PUT "/api/v1/users/2" for 127.0.0.1 at 2014-09-28 22:23:28 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@example.com') AND "users"."id" != 2) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m


Started OPTIONS "/api/v1/users/2" for 127.0.0.1 at 2014-09-28 22:25:17 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m


Started PUT "/api/v1/users/2" for 127.0.0.1 at 2014-09-28 22:25:17 -0400
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@example.com' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "users" SET "email" = $1, "updated_at" = $2 WHERE "users"."id" = 2  [["email", "ron@young.com"], ["updated_at", "2014-09-29 02:25:17.245793"]]
  [1m[36m (57.5ms)[0m  [1mCOMMIT[0m


Started PUT "/api/v1/users/2" for 127.0.0.1 at 2014-09-28 22:27:19 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mUser Load (1.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "first_name" = $1, "updated_at" = $2 WHERE "users"."id" = 2  [["first_name", "com"], ["updated_at", "2014-09-29 02:27:19.884563"]]
  [1m[36m (1.5ms)[0m  [1mCOMMIT[0m


Started PUT "/api/v1/users/2" for 127.0.0.1 at 2014-09-28 22:27:54 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@example.com' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT


Started PUT "/api/v1/users/2" for 127.0.0.1 at 2014-09-28 22:28:42 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT


Started PUT "/api/v1/users/2" for 127.0.0.1 at 2014-09-28 22:29:03 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "state" = $1, "updated_at" = $2 WHERE "users"."id" = 2  [["state", "AL"], ["updated_at", "2014-09-29 02:29:04.057433"]]
  [1m[36m (0.9ms)[0m  [1mCOMMIT[0m


Started PUT "/api/v1/users/2" for 127.0.0.1 at 2014-09-28 22:29:31 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@example.com' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT


Started PUT "/api/v1/users/2" for 127.0.0.1 at 2014-09-28 22:30:06 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "current_earnings_cents" = $1, "updated_at" = $2 WHERE "users"."id" = 2  [["current_earnings_cents", 222], ["updated_at", "2014-09-29 02:30:06.286371"]]
  [1m[36m (1.1ms)[0m  [1mCOMMIT[0m


Started PUT "/api/v1/users/2" for 127.0.0.1 at 2014-09-28 22:30:50 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT


Started PUT "/api/v1/users/2" for 127.0.0.1 at 2014-09-28 22:31:23 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@example.com' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT


Started PUT "/api/v1/users/2" for 127.0.0.1 at 2014-09-28 22:32:03 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mUser Load (1.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT


Started PUT "/api/v1/users/2" for 127.0.0.1 at 2014-09-28 22:33:01 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT


Started PUT "/api/v1/users/2" for 127.0.0.1 at 2014-09-28 22:33:20 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@example.com' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "created_at" = $1, "updated_at" = $2 WHERE "users"."id" = 2  [["created_at", "2014-09-29 00:22:46.000000"], ["updated_at", "2014-09-29 02:33:20.272224"]]
  [1m[36m (1.7ms)[0m  [1mCOMMIT[0m


Started PUT "/api/v1/users/2" for 127.0.0.1 at 2014-09-28 22:33:46 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT


Started PUT "/api/v1/users/2" for 127.0.0.1 at 2014-09-28 22:34:42 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "updated_at" = $1 WHERE "users"."id" = 2  [["updated_at", nil]]
  [1m[36m (9.6ms)[0m  [1mCOMMIT[0m


Started OPTIONS "/api/v1/users/2" for 127.0.0.1 at 2014-09-28 22:35:38 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m


Started PUT "/api/v1/users/2" for 127.0.0.1 at 2014-09-28 22:35:38 -0400
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@example.com') AND "users"."id" != 2) LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m


Started PUT "/api/v1/users/2" for 127.0.0.1 at 2014-09-28 22:35:53 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@example.com') AND "users"."id" != 2) LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m


Started PUT "/api/v1/users/2" for 127.0.0.1 at 2014-09-28 22:38:24 -0400
  [1m[36mActiveRecord::SchemaMigration Load (2.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@example.com' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@example.com') AND "users"."id" != 2) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m


Started PUT "/api/v1/users/2" for 127.0.0.1 at 2014-09-28 22:38:41 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@example.com') AND "users"."id" != 2) LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m


Started PUT "/api/v1/users/2" for 127.0.0.1 at 2014-09-28 22:39:53 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@example.com' LIMIT 1
  [1m[36mSQL (6.3ms)[0m  [1mUPDATE "users" SET "state" = 'RM', "roth_first" = 't' WHERE "users"."id" = 2[0m


Started PUT "/api/v1/users/2" for 127.0.0.1 at 2014-09-28 22:40:16 -0400
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mUser Load (3.7ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@example.com' LIMIT 1
  [1m[36mSQL (6.4ms)[0m  [1mUPDATE "users" SET "state" = 'DE', "roth_first" = 't' WHERE "users"."id" = 2[0m


Started PUT "/api/v1/users/2" for 127.0.0.1 at 2014-09-28 22:42:43 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@example.com') AND "users"."id" != 2) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "first_name" = $1, "roth_first" = $2, "state" = $3, "updated_at" = $4 WHERE "users"."id" = 2[0m  [["first_name", "Kyle"], ["roth_first", "f"], ["state", "AL"], ["updated_at", "2014-09-29 01:45:40.000000"]]
  [1m[35m (5.6ms)[0m  COMMIT


Started OPTIONS "/api/v1/users/2" for 127.0.0.1 at 2014-09-29 00:19:24 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m


Started PUT "/api/v1/users/2" for 127.0.0.1 at 2014-09-29 00:19:24 -0400
  [1m[35mUser Load (12.3ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (7.0ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@example.com') AND "users"."id" != 2) LIMIT 1
  [1m[36mSQL (24.7ms)[0m  [1mUPDATE "users" SET "current_earnings_cents" = $1, "updated_at" = $2 WHERE "users"."id" = 2[0m  [["current_earnings_cents", 44], ["updated_at", "2014-09-29 04:19:24.487768"]]
  [1m[35m (60.4ms)[0m  COMMIT
